<div class="container">
  <div style="margin-bottom: 50px;">

    <mat-button-toggle-group name="fontStyle" #group="matButtonToggleGroup" aria-label="Font Style" [value]="selectedVal" (change)="onValChange(group.value)">
      <mat-button-toggle value="hot" (click)="getHotPosts()">Hot</mat-button-toggle>
      <mat-button-toggle value="new" (click)="getNewPosts()">New</mat-button-toggle>
      <mat-button-toggle value="top" (click)="getTopPosts()">Top</mat-button-toggle>
    </mat-button-toggle-group>

    <mat-card class="post-card" *ngFor="let post of posts">

      <mat-card-header (click)="goToPost(post.id)">
        <mat-card-subtitle class="post-subtitle">
          <div class="posted-by-container">Posted by {{ post.author_username }}</div>
          <p class="post-date">{{ post.created_at | dateAgo }}</p>
        </mat-card-subtitle>
        <mat-card-title>{{ post.title }}</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <p> {{ post.content }} </p>
        <mat-divider></mat-divider>
      </mat-card-content>

      <mat-card-actions>
        <p> {{ post.vote_count }}</p>
        <button mat-icon-button matTooltip="Upvote" (click)="voteOnPost(post.id, 1)">
          <mat-icon>arrow_circle_up</mat-icon>
        </button>
        <button mat-icon-button matTooltip="Downvote" (click)="voteOnPost(post.id, -1)">
          <mat-icon>arrow_circle_down</mat-icon>
        </button>
        <button mat-icon-button matTooltip="Comments" (click)="goToPost(post.id)">
          <mat-icon>comment</mat-icon>
        </button>
      </mat-card-actions>

      <mat-card-footer class="post-footer">
      </mat-card-footer>
    </mat-card>
  </div>

  <mat-card class="community-container">

    <mat-card-header>
      <mat-card-title class="community-title">{{ this.community.name }} community</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <p> {{ this.community.description }} </p>
      <mat-divider></mat-divider>
    </mat-card-content>

    <mat-card-footer class="post-footer">
    </mat-card-footer>

    <button mat-button (click)="openPostDialog()" >
      <mat-icon>add</mat-icon> Create post
    </button>

  </mat-card>

</div>
